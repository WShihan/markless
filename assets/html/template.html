{{ define "template" }}
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel=“canonical” href=“https://example.com/sample-page/” />
    <meta name="description" content="markee，记录网联网。" />
    <link rel="icon" href="https://wsh233.cn/arch/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="{{$.Env.BaseURL}}/static/css/template.css"/>
    <script defer src="{{$.Env.BaseURL}}/static/js/user.js"></script>
    <script>
      window.baseURL = "{{$.Env.BaseURL}}";
    </script>
    {{ template "style" . }}
    <title>{{.Title}}</title>
  </head>
  <body>
      <!-- 切换显示模式 -->
      <script>
        const modeCookieKey = 'markee-view-mode';
        const NORMALMODE = 'normal';
        const DARKMODE = 'dark';
  
        function setCookie(name, value) {
          var currentDate = new Date();
          var expiresDate = new Date(currentDate.getTime() + 7 * 24 * 60 * 60 * 1000); // 7天后的日期
          var expiresGMT = expiresDate.toGMTString();
          document.cookie = `${name}=${value}; expires=-1;path=/`;
          document.cookie = `${name}=${value}; expires=${expiresGMT};path=/;`;
        }
  
        function getCookie(name) {
          let mode = NORMALMODE;
          document.cookie.split(';').forEach(item => {
            if (item.split('=')[0].trim() == name) {
              mode = item.split('=')[1].trim();
            }
          });
          return mode;
        }
  
        function switchMode(mode) {
          if (mode == NORMALMODE) {
            document.body.classList.add(NORMALMODE);
            document.body.classList.remove(DARKMODE);
          } else {
            document.body.classList.add(DARKMODE);
            document.body.classList.remove(NORMALMODE);
          }
        }
        // 设置默认显示模式
        switchMode(getCookie(modeCookieKey))
  
        document.addEventListener('DOMContentLoaded', () => {
          document.getElementById('theme-switch').addEventListener('click', function (evt) {
            let mode = getCookie(modeCookieKey);
            mode = mode == NORMALMODE ? DARKMODE : NORMALMODE;
            switchMode(mode);
            setCookie(modeCookieKey, mode);
            console.log(mode);
          });
        });
      </script>
    <div id="container" class="container">
      <header>
        <div class="icon ">
          <span id="theme-switch" class="theme-switch" >
          <svg t="1726514140559" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="980" width="200" height="200"><path d="M290.17945 125.041878M928.817686 524.408611C798.773887 394.33309 668.763858 264.224824 538.56861 134.299729c-16.504906-16.463973-32.479739-33.327036-51.724035-47.195905-20.039405-14.436804-40.845267-22.820752-65.433268-22.706141-43.686988 0.209778-87.37193 0.060375-131.057895 0.060375 0 0.01228 0 0.030699-0.00614 0.047072-45.561685 0-91.13258-0.399089-136.690172 0.10847-51.02921 0.567935-90.073458 40.454364-90.133833 91.478458-0.094144 90.289376-0.077771 180.585915 0.071631 270.879384 0.013303 7.040347 0.851391 14.201443 2.325975 21.090341 5.334495 24.89704 20.547988 44.6315 37.609573 61.802578 140.086525 140.993175 280.764522 281.403065 421.418982 421.836491 37.090756 37.024242 98.471732 36.777625 135.612631-0.292666 89.947592-89.769536 179.824575-179.613774 269.462105-269.701558 7.099698-7.127328 13.276375-15.757892 17.809621-24.740474C966.804858 599.405699 958.935634 554.523489 928.817686 524.408611zM375.604028 468.162586c-49.227168-0.157589-89.421612-40.580231-88.944751-89.463568 0.487094-49.28959 40.563858-88.722694 89.958848-88.51394 48.611138 0.211824 88.530312 40.388872 88.477101 89.059362C465.04406 428.368254 424.848593 468.313012 375.604028 468.162586zM376.737852 438.488753" fill="#1296db" p-id="981"></path></svg>
          <svg t="1726514140559" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="980" width="200" height="200"><path d="M290.17945 125.041878M928.817686 524.408611C798.773887 394.33309 668.763858 264.224824 538.56861 134.299729c-16.504906-16.463973-32.479739-33.327036-51.724035-47.195905-20.039405-14.436804-40.845267-22.820752-65.433268-22.706141-43.686988 0.209778-87.37193 0.060375-131.057895 0.060375 0 0.01228 0 0.030699-0.00614 0.047072-45.561685 0-91.13258-0.399089-136.690172 0.10847-51.02921 0.567935-90.073458 40.454364-90.133833 91.478458-0.094144 90.289376-0.077771 180.585915 0.071631 270.879384 0.013303 7.040347 0.851391 14.201443 2.325975 21.090341 5.334495 24.89704 20.547988 44.6315 37.609573 61.802578 140.086525 140.993175 280.764522 281.403065 421.418982 421.836491 37.090756 37.024242 98.471732 36.777625 135.612631-0.292666 89.947592-89.769536 179.824575-179.613774 269.462105-269.701558 7.099698-7.127328 13.276375-15.757892 17.809621-24.740474C966.804858 599.405699 958.935634 554.523489 928.817686 524.408611zM375.604028 468.162586c-49.227168-0.157589-89.421612-40.580231-88.944751-89.463568 0.487094-49.28959 40.563858-88.722694 89.958848-88.51394 48.611138 0.211824 88.530312 40.388872 88.477101 89.059362C465.04406 428.368254 424.848593 468.313012 375.604028 468.162586zM376.737852 438.488753" fill="#bfbfbf" p-id="981"></path></svg>
          </span>
        </div>
        <div class="navs">
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/">所有</a></span>
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/read">已读</a></span>
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/unread">未读</a></span>
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/link/add">+书签</a></span>
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/tags">+标签</a></span>
          <span class="nav-item btn"><a href="{{$.Env.BaseURL}}/settings">设置</a></span>
          <span class="nav-item btn" onclick="logout('{{$.Env.BaseURL}}/login')">登出</span>
        </div>
      </header>
      <div class="content">
        {{ template "content" . }}
      </div>
      <!-- <footer>
      </footer> -->
    </div>
  </body>
</html>

{{ end }}
